<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StudentHub ‚Äì Complete Digital Profile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#e0b2de;
      --card:#ffffff;
      --accent:#a1375e;
      --accent2:#039f9b;
      --accent3:#039f9b;
      --accent4:#e090ad;
      --accent5:#fad3d8;
      --muted:#555;
      --danger:#ff4c4c;
    }
    *{box-sizing:border-box}
    body{font-family:'Inter',system-ui,Arial,sans-serif;background:var(--bg);margin:0;padding:24px}
    .container{max-width:1000px;margin:0 auto;background:var(--card);padding:24px;border-radius:12px;box-shadow:0 6px 18px rgba(16,24,40,0.08)}
    h1{text-align:center;margin:0 0 16px;font-size:32px;color:var(--accent);font-weight:700}
    .form-section{margin-bottom:24px}
    .form-section h2{text-align:center;font-size:24px;margin-bottom:16px;color:var(--accent2);font-weight:600}
    label{display:flex;flex-direction:column;font-size:14px;color:var(--muted);margin-bottom:12px}
    input, select, textarea{padding:10px 12px;border-radius:8px;border:1px solid #e6edf3;background:#fff;font-size:14px}
    input[type=radio]{margin-right:6px}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .actions{display:flex;gap:16px;align-items:center;margin-top:20px;justify-content:center}
    button{background:var(--accent3);color:#fff;padding:12px 20px;border-radius:10px;border:none;cursor:pointer;font-size:15px;transition:0.3s}
    button:hover{opacity:0.9}
    button.secondary{background:var(--accent4);color:#fff}
    table{width:100%;border-collapse:collapse;margin-top:20px}
    th,td{padding:10px 12px;border-bottom:1px solid #f1f5f9;text-align:left;font-size:14px}
    th{background:transparent;color:var(--accent2);font-weight:600}
    .students tr:hover{background:var(--accent5)}
    .small-btn{padding:6px 12px;border-radius:6px;border:1px solid #e6edf3;background:#fff;color:#111;margin-left:6px;cursor:pointer}
    .danger{background:var(--danger);border:none;color:#fff}
    @media(max-width:900px){.row{flex-direction:column}}
  </style>
</head>
<body>
  <div id="root"></div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const {useState,useEffect}=React;

    function App(){
      const initialForm={
        fullName:'',roll:'',department:'BCA',year:'I Year / 1st Sem',college:'Nadar Saraswathi College Of Arts And Science, Theni',university:'Mother Teresa Women\'s University',dob:'',gender:'Female',
        email:'',phone:'',address:'',course:'BCA',cgpa:'',skills:'',certificates:null,internships:'',projects:'',hobbies:'',profilePhoto:null,qrCode:''
      };

      const [students,setStudents]=useState(()=>{
        try{return JSON.parse(localStorage.getItem('studenthub_students')||'[]')}
        catch(e){return[]}
      });
      const [form,setForm]=useState(initialForm);
      const [editingId,setEditingId]=useState(null);
      const [query,setQuery]=useState('');

      useEffect(()=>{localStorage.setItem('studenthub_students',JSON.stringify(students))},[students]);

      function handleFileChange(e,field){setForm({...form,[field]:e.target.files[0]})}

      function validate(){
        if(!form.fullName.trim()){alert('Enter Full Name');return false}
        if(!form.roll.trim()){alert('Enter Roll No');return false}
        if(!form.department.trim()){alert('Select Department');return false}
        if(!form.year.trim()){alert('Select Year/Semester');return false}
        if(!form.email.trim()){alert('Enter Email');return false}
        if(!form.phone.trim()||form.phone.length!==10){alert('Enter 10-digit Mobile Number');return false}
        if(!form.cgpa.trim()){alert('Enter CGPA');return false}
        const dup=students.find(s=>s.roll===form.roll&&s.id!==editingId);
        if(dup){alert('Roll already exists');return false}
        return true;
      }

      function handleSubmit(e){
        e.preventDefault();
        if(!validate())return;
        const studentData={...form,id:editingId||Date.now()};
        if(editingId){setStudents(prev=>prev.map(s=>s.id===editingId?studentData:s))}else{setStudents(prev=>[studentData,...prev])}
        setForm(initialForm);
        setEditingId(null);
      }

      function handleEdit(id){
        const s=students.find(x=>x.id===id);
        if(!s)return;
        setForm({...s});
        setEditingId(id);
        window.scrollTo({top:0,behavior:'smooth'});
      }

      function handleDelete(id){if(confirm('Delete this student?')){setStudents(prev=>prev.filter(s=>s.id!==id))}}

      const filtered=students.filter(s=>{
        const q=query.toLowerCase();
        return !q||s.fullName.toLowerCase().includes(q)||s.roll.toLowerCase().includes(q)||s.department.toLowerCase().includes(q);
      });

      return(
        <div className="container">
          <h1>üìò StudentHub ‚Äì Complete Digital Profile</h1>

          <form onSubmit={handleSubmit}>
            {/* Basic Details */}
            <div className="form-section"><h2>üßç Basic Details</h2>
              <div className="row">
                <label>Full Name<input type="text" value={form.fullName} onChange={e=>setForm({...form,fullName:e.target.value})}/></label>
                <label>Register Number / Roll No<input type="text" value={form.roll} onChange={e=>setForm({...form,roll:e.target.value})}/></label>
                <label>Department<select value={form.department} onChange={e=>setForm({...form,department:e.target.value})}><option>BCA</option><option>MCA</option></select></label>
                <label>Year / Semester<select value={form.year} onChange={e=>setForm({...form,year:e.target.value})}><option>I Year / 1st Sem</option><option>II Year / 3rd Sem</option><option>III Year / 5th Sem</option><option>III Year / 6th Sem</option></select></label>
                <label>College Name<input type="text" value={form.college} onChange={e=>setForm({...form,college:e.target.value})}/></label>
                <label>University<input type="text" value={form.university} onChange={e=>setForm({...form,university:e.target.value})}/></label>
                <label>Date of Birth<input type="date" value={form.dob} onChange={e=>setForm({...form,dob:e.target.value})}/></label>
                <label>Gender<div><input type="radio" checked={form.gender==='Female'} onChange={e=>setForm({...form,gender:'Female'})}/> Female <input type="radio" checked={form.gender==='Male'} onChange={e=>setForm({...form,gender:'Male'})}/> Male</div></label>
              </div>
            </div>

            {/* Contact Details */}
            <div className="form-section"><h2>üì± Contact Details</h2>
              <div className="row">
                <label>Email ID<input type="email" value={form.email} onChange={e=>setForm({...form,email:e.target.value})}/></label>
                <label>Mobile Number<input type="number" value={form.phone} onChange={e=>setForm({...form,phone:e.target.value})}/></label>
                <label>Address<textarea value={form.address} onChange={e=>setForm({...form,address:e.target.value})}></textarea></label>
              </div>
            </div>

            {/* Academic Details */}
            <div className="form-section"><h2>üéì Academic Details</h2>
              <div className="row">
                <label>Course<select value={form.course} onChange={e=>setForm({...form,course:e.target.value})}><option>BCA</option><option>MCA</option></select></label>
                <label>Current CGPA<input type="number" step="0.01" value={form.cgpa} onChange={e=>setForm({...form,cgpa:e.target.value})}/></label>
                <label>Skills<input type="text" value={form.skills} onChange={e=>setForm({...form,skills:e.target.value})} placeholder="HTML, CSS, JS"/></label>
                <label>Certificates<input type="file" onChange={e=>handleFileChange(e,'certificates')}/></label>
              </div>
            </div>

            {/* Additional Details */}
            <div className="form-section"><h2>üíº Additional Details</h2>
              <div className="row">
                <label>Internships<textarea value={form.internships} onChange={e=>setForm({...form,internships:e.target.value})}></textarea></label>
                <label>Projects<textarea value={form.projects} onChange={e=>setForm({...form,projects:e.target.value})}></textarea></label>
                <label>Hobbies<textarea value={form.hobbies} onChange={e=>setForm({...form,hobbies:e.target.value})}></textarea></label>
                <label>Profile Photo<input type="file" onChange={e=>handleFileChange(e,'profilePhoto')}/></label>
              </div>
            </div>

            <div className="actions">
              <button type="submit">{editingId?'Update Student':'Add Student'}</button>
              <button type="button" className="secondary" onClick={()=>{setForm(initialForm);setEditingId(null)}}>Clear</button>
            </div>
          </form>

          {/* Search & Table */}
          <div className="row" style={{marginTop:'20px'}}>
            <input placeholder="Search by Name / Roll / Department" value={query} onChange={e=>setQuery(e.target.value)} style={{flex:1,padding:'10px',borderRadius:'8px',border:'1px solid #e6edf3'}}/>
            <button className="small-btn" onClick={()=>{if(confirm('Delete ALL students?')){setStudents([]);localStorage.removeItem('studenthub_students')}}}>Clear All</button>
          </div>

          <table className="students">
            <thead>
              <tr>
               <th>Roll</th>
              <th>Name</th>
              <th>Department</th>
              <th>Email</th>
              <th>Phone</th>
              <th>CGPA</th>
              <th>Actions</th>
            </tr>
            </thead>
            <tbody>
              {filtered.length === 0 ? (
                <tr>
                  <td colSpan="7" style={{ textAlign: 'center' }}>No students found</td>
                </tr>
              ) : (
                filtered.map(s => (
                  <tr key={s.id}>
                    <td>{s.roll}</td>
                    <td>{s.fullName}</td>
                    <td>{s.department}</td>
                    <td>{s.email}</td>
                    <td>{s.phone}</td>
                    <td>{s.cgpa}</td>
                    <td>
                      <button className="small-btn" onClick={() => handleEdit(s.id)}>Edit</button>
                      <button className="small-btn danger" onClick={() => handleDelete(s.id)}>Delete</button>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>